<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <link href="stylesheets/my/pic_process.css" rel="stylesheet" type="text/css">
    <script type="text/javascript" src="javascripts/pic_process.js"></script>

</head>
<body>
    <p>
        <label>请选择一个图像文件：</label>
        <input type="file" id="file_input" />
    </p>
    <div id="result"></div>
    <div id="link_img"></div>
    <canvas id="myCanvas" width="500" height="500" >
        Your browser does not support the HTML5 canvas tag.
    </canvas>
    <input type="button" onclick="convertCanvasToImage()" id="canvas_to_image" value="canvas_to_image">

<input type="button" onclick="save_my()" value="保存">
<input type="button" onclick="restore_my()" value="撤销">
    <input type="text" value="100" id="alpha_text">
<input type="button" onclick="setAlpha()" value="透明度">
<input type="button" onclick="oppositeColor()" value="反色">
    <input type="button" onclick="drawImage()">
<script>

   /* var canvas = document.getElementById("myCanvas");
    var context =canvas.getContext("2d");
    var imgX = 0;
    var imgY = 0;
    var img=document.getElementById("pic");
    var imgScale=1;
    function drawImage(){
        context.clearRect(0,0,canvas.width,canvas.height);
        context.drawImage(img,0,0,img.width,img.height,imgX,imgY,img.width*imgScale,img.height*imgScale);
    }

    canvas.onmousedown=function(event){
        alert("11");
        var pos=windowToCanvas(canvas,event.clientX,event.clientY);
        canvas.onmousemove=function(event){
            canvas.style.cursor="move";
            var pos1=windowToCanvas(canvas,event.clientX,event.clientY);
            var x=pos1.x-pos.x;
            var y=pos1.y-pos.y;
            pos=pos1;
            imgX+=x;
            imgY+=y;
            drawImage();
        }
        canvas.onmouseup=function(){
            canvas.onmousemove=null;
            canvas.onmouseup=null;
            canvas.style.cursor="default";
        }
    }

    function windowToCanvas(canvas,x,y){
        var bbox = canvas.getBoundingClientRect();
        return {
            x:x - bbox.left - (bbox.width - canvas.width) / 2,
            y:y - bbox.top - (bbox.height - canvas.height) / 2
        };
    }*/
</script>
</body>
</html>